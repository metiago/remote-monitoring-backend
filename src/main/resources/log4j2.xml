<?xml version="1.0" encoding="UTF-8" ?>
<Configuration>
    <Appenders>
        <RollingFile name="app_file" append="true" immediateFlush="true" fileName="/home/tiago/logs/searchlog.log"
                     filePattern="/home/tiago/logs/vertx/$${date:yyyy-MM}/seachlog-%d{MM-dd-yyyy}-%i.log">
            <PatternLayout pattern="%d{yyyy-MM-dd} %d{HH:mm:ss} %level %logger{36} - %msg%n"/>
            <Policies>
                <OnStartupTriggeringPolicy/>
                <SizeBasedTriggeringPolicy size="5MB"/>
                <TimeBasedTriggeringPolicy/>
            </Policies>
        </RollingFile>
        <RollingFile name="vertx_file" append="true" fileName="/home/tiago/logs/vertx.log"
                     filePattern="/home/tiago/logs/vertx/$${date:yyyy-MM}/vertx-%d{MM-dd-yyyy}-%i.log">
            <PatternLayout pattern="%d{yyyy-MM-dd} %d{HH:mm:ss} %level %logger{36} - %msg%n"/>
            <Policies>
                <OnStartupTriggeringPolicy/>
                <SizeBasedTriggeringPolicy size="5MB"/>
                <TimeBasedTriggeringPolicy/>
            </Policies>
        </RollingFile>
        <Console name="STDOUT" target="SYSTEM_OUT">            
            <PatternLayout pattern="%d{yyyy-MM-dd} %d{HH:mm:ss} %level %logger{36} - %msg%n"/>
        </Console>        
    </Appenders>

    <Loggers>
        <Logger name="io.vertx.core" level="INFO">
            <AppenderRef ref="STDOUT"/>
            <AppenderRef ref="vertx_file"/>
        </Logger>
        <Logger name="io.tiago.whisky" level="INFO">
            <AppenderRef ref="STDOUT"/>
            <AppenderRef ref="app_file"/>            
        </Logger>                       
        <Root level="info">
            <AppenderRef ref="STDOUT"/>            
        </Root>
    </Loggers>
</Configuration>
